<mvc:View
    controllerName="zcapmedia.controller.MediaView"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:unified="sap.ui.unified"
>
    <Page title="{i18n>title}">
        <content>
             <VBox class="sapUiSmallMargin">
                <unified:FileUploader
                    id="fileUploader"
                    name="upload"
                    mimeType="application/pdf"
                    fileType="pdf"
                    maximumFileSize="10000000"
                    useMultipart="false"
                    sendXHR="true"
                    change="onFileSelected"
                    width="100%"/>

                <Button text="Upload to CAP" press="onUploadToCAP" class="sapUiSmallMarginTop"/>
                <Button text="View PDF" press="onViewPDF" class="sapUiSmallMarginTop"/>
            </VBox>

             <!-- Attachments Table -->
            <Table 
                items="{/Attachments}"
                inset="false"
                class="sapUiSmallMarginTop"
                growing="true"
                growingThreshold="10">
            <columns>
                <Column><Text text="File Name"/></Column>
                <Column><Text text="Media Type"/></Column>
                <Column><Text text="Size (bytes)"/></Column>
                <Column><Text text="URL"/></Column>
            </columns>
            <items>
                <ColumnListItem>
                <cells>
                    <Text text="{fileName}"/>
                    <Text text="{mediaType}"/>
                    <Text text="{size}"/>
                    <Link text="{url}" href="{url}" target="_blank"/>
                </cells>
                </ColumnListItem>
            </items>
            </Table>
        </content>
    </Page>
</mvc:View>
